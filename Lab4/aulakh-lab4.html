<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Lab 4 - Arshpreet Aulakh</title>
<style>
    .blacktext { color:black; }
    .redtext { color:red; }
    form  { display: table; }
    label {
        display: inline-block;
        width:120px;
        text-align: left;
        white-space: nowrap;
    }
    input {
        display: inline-block;
        margin-right: 10px;
    }
    
</style>
<script>
    "use strict";
    window.onload = function() {
        document.getElementById('mstatus').onchange = mstatusChange;
        document.getElementById ('btnSubmit').onclick = processForm;
        document.getElementById('fname').focus();
    };
    
    function mstatusChange() {
        var mstatus = document.getElementById('mstatus').value
        if (mstatus == 'Married') {
            document.getElementById('sname').disabled = false;
        }
        else document.getElementById('sname').disabled = true;
    }
    function getGenderBtn() {
        var genderChosen = "";
        if (document.getElementById('male').checked == true) {
            genderChosen = document.getElementById('male');
        }
        else if (document.getElementById('female').checked == true) {
            genderChosen = document.getElementById('female');
        }
        else genderChosen = "";
        return genderChosen;
    }
    
    function passwordConfirmed() {
       if (password != password2) {
           return false;
       }
            return true;
    }
    
    
    function popUpAlert() {
        alert("Form could not be submitted. Please fix the errors on the page then try again.");
    }

    function processForm() {
        var fname = document.getElementById('fname').value;
        var lname = document.getElementById('lname').value;
        var address1 = document.getElementById('address1').value;
        var address2 = document.getElementById('address2').value;
        var city = document.getElementById('city').value;
        var state = document.getElementById('state').value;
        var zipcode = document.getElementById('zipcode').value;
        var gender = getGenderBtn();
        var dob = document.getElementById('dob').value;
        var mstatus = document.getElementById('mstatus').value;
        var sname = document.getElementById('sname').value;
        var email = document.getElementById('email').value;
        var phone = document.getElementById('phone').value;
        var password = document.getElementById('password').value;
        var password2 = document.getElementById('password2').value;
        
        var formGood = true;
        
        if (fname == "") {
            formGood = false;
            document.getElementById('fnameLabel').className = 'redtext';
        }
        else {
            document.getElementById('fnameLabel').className = 'blacktext';
        }
        if (lname == "") {
            formGood = false;
            document.getElementById('lnameLabel').className = 'redtext';
        }
        else {
            document.getElementById('lnameLabel').className = 'blacktext';
        }
        if (address1 == "") {
            formGood = false;
            document.getElementById('address1Label').className = 'redtext';
        }
        else {
            document.getElementById('address1Label').className = 'blacktext';
        }
        if (address2 == "") {
            formGood = false;
            document.getElementById('address2Label').className = 'redtext';
        }
        else {
            document.getElementById('address2Label').className = 'blacktext';
        }
        if (city == "") {
            formGood = false;
            document.getElementById('cityLabel').className = 'redtext';
        }
        else {
            document.getElementById('cityLabel').className = 'blacktext';
        }
        if (state == "Select a state") {
            formGood = false;
            document.getElementById('stateLabel').className = 'redtext';
        }
        else {
            document.getElementById('stateLabel').className = 'blacktext';
        }
        if (zipcode == "") {
            formGood = false;
            document.getElementById('zipcodeLabel').className = 'redtext';
        }
        else {
            document.getElementById('zipcodeLabel').className = 'blacktext';
        }
        if (gender == "") {
            formGood = false;
            document.getElementById('genderLabel').className = 'redtext';
        }
        else {
            document.getElementById('genderLabel').className = 'blacktext';
        }
        if (dob == "") {
            formGood = false;
            document.getElementById('dobLabel').className = 'redtext';
        } 
        else {
            document.getElementById('dobLabel').className = 'blacktext';
        }
        if (mstatus == "") {
            formGood = false;
            document.getElementById('mstatusLabel').className = 'redtext';
        }
        else {
            document.getElementById('mstatusLabel').className = 'blacktext';
        }
        if (mstatus != "Single" && sname == "") {
            formGood = false;
            document.getElementById('snameLabel').className = 'redtext';
        }
        else {
            document.getElementById('snameLabel').className = 'blacktext';
        }
        if (email == "") {
            formGood = false;
            document.getElementById('emailLabel').className = 'redtext';
        } 
        else {
            document.getElementById('emailLabel').className = 'blacktext';
        }
        if (phone == "") {
            formGood = false;
            document.getElementById('phoneLabel').className = 'redtext';
        }
        else {
            document.getElementById('phoneLabel').className = 'blacktext';
        }
        if (password == "") {
            formGood = false;
            document.getElementById('passwordLabel').className = 'redtext';
        } 
        else {
            document.getElementById('passwordLabel').className = 'blacktext';
        }
        if (password != password2 || password2 == "") {
            document.getElementById('password2Label').className = 'redtext';
        }
        else {
            document.getElementById('password2Label').className = 'blacktext';
        }
        
            if (!formGood) {
                popUpAlert();
                document.getElementById('errorMsg').innerHTML="Please fix the errors below";
            }
            
            else {
                if (password == password2) {
                    alert("Submitted");
                    document.getElementById("myForm").submit();
                }
                else {
                    formGood = false;
                alert("Passwords must match!")
                popUpAlert.disabled;
                document.getElementById('passwordLabel').className = 'redtext';
                document.getElementById('password2Label').className = 'redtext';
                }
            }
    }
</script>
</head>

<body>
    <main>
        <h2>Lab 4 - Forms Processing</h2>
        <h2><span id = 'errorMsg' class = 'redtext'></span></h2>
        <form id = "myForm" action="http://www.waynedog.net/formreader.php" method="post">
            <table>
                <tr>
                    <td><label id = "fnameLabel">First Name</label><input type="text" id="fname" name="fname"></td>
                    <td><label id = "lnameLabel">Last Name</label><input type="text" id="lname" name="lname"></td>
                </tr>
                <tr>
                    <td><label id = "address1Label">Address</label><input type="text" id="address1" name="address1"></td>
                    <td><label id = "address2Label">Suite or Apt </label><input type="text" id="address2" name="address2"></td>
                </tr>
                <tr>
                    <td><label id = "cityLabel">City</label><input type = "text" id="city" name="city"></td>
                    <td><label id = "stateLabel" for = "state">State</label>
                        <select name = "state" id = "state">
                            <option selected disabled>Select a state</option>
                            <option value="AL">Alabama</option>      
                            <option value="AK">Alaska</option>
                            <option value="AL">Alabama</option>
                            <option value="AK">Alaska</option>
                            <option value="AZ">Arizona</option>
                            <option value="AR">Arkansas</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DE">Delaware</option>
                            <option value="DC">Dist of Columbia</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="IA">Iowa</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="ME">Maine</option>
                            <option value="MD">Maryland</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MS">Mississippi</option>
                            <option value="MO">Missouri</option>
                            <option value="MT">Montana</option>
                            <option value="NE">Nebraska</option>
                            <option value="NV">Nevada</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NY">New York</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VT">Vermont</option>
                            <option value="VA">Virginia</option>
                            <option value="WA">Washington</option>
                            <option value="WV">West Virginia</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WY">Wyoming</option>
                        </select></td>
                </tr>
                <tr>
                    <td><label id = "zipcodeLabel">Zip Code </label><input type = "text" id = "zipcode" name = "zipcode" value = ""pattern="\d{5}-?(\d{4})"></td>
                </tr>
                <tr>
                    <td>
                            <label id = "genderLabel" for = "genderLabel">Gender</label>
                                            
                            <label for = "gender">
                                <input type="radio" id = "male" name="gender" value = "Male">Male
                                <input type="radio" id = "female" name="gender" value = "Female">Female
                            </label>
                    </td>
                    <td><label id = "dobLabel">Birthday</label><input type = "date" id = "dob" name = "dob"></td>
                </tr>
                <tr>
                    <td><label id = "mstatusLabel" for = "mstatusLabel">Marital Status</label>
                        <select name = "mstatus" id = "mstatus">
                            <option value="" disabled selected>Choose one</option>
                            <option value = "Single">Single</option>
                            <option value = "Married">Married</option>
                        </select></td>
                    <td><label id="snameLabel">Spouse Name: </label><input type="text" id="sname" name="sname"></td>
                </tr>
                <tr>
                    <td><label id = "emailLabel">Email </label><input type="email" id="email" name="email"></td>
                    <td><label id = "phoneLabel">Phone </label><input type="tel" id="phone" name="phone"></td>
                </tr>
                <tr>
                    <td><label id = "passwordLabel">Password </label><input type="password" id="password" name="password"></td>
                    <td><label id = "password2Label">Confirm Password </label><input type="password" id="password2" name="password2"></td>
                </tr>
                <tr>
                    <td><input type = "button" value = "RESET" onclick = "this.form.reset()">
                        <input type = "button" id = 'btnSubmit' name='btnSubmit' value = "SUBMIT" onclick = "processForm()"></td>
                </tr>
            </table>
        </form>
    </main>
</body>
    
</html>